{"version":3,"file":"index.js","sources":["../dist-src/index.js"],"sourcesContent":["const chalk = require(\"chalk\");\n\nconst fs = require(\"fs\");\n\nconst logSymbols = require(\"log-symbols\");\n\nconst path = require(\"path\");\n\nconst nodeModulesPath = path.resolve(process.cwd(), \"node_modules\");\n\nconst hasPackage = packageName => {\n  return fs.existsSync(path.resolve(nodeModulesPath, packageName));\n};\n\nconst replaceDoubleSemiColon = input => input.replace(\"utf-8;;base64\", \"utf-8;base64\");\n\nconst run = async () => {\n  if (hasPackage(\"semantic-ui-less\")) {\n    console.log(logSymbols.info, `Detected \"semantic-ui-less\" package...`);\n    const fileToPatchPath = path.resolve(nodeModulesPath, \"semantic-ui-less\", \"themes\", \"default\", \"elements\", \"step.overrides\");\n\n    if (fs.existsSync(fileToPatchPath)) {\n      fs.writeFileSync(fileToPatchPath, replaceDoubleSemiColon(fs.readFileSync(fileToPatchPath, {\n        encoding: \"utf8\"\n      })));\n      console.log(logSymbols.info, `Patch was successfully applied`);\n    } else {\n      console.log(logSymbols.error, chalk.bgRed.bold(`Failed to find \"${path.resolve(process.cwd(), fileToPatchPath)}\", please check your installation of \"semantic-ui-less\"`));\n    }\n  } else if (hasPackage(\"semantic-ui-css\")) {\n    const filesToPatchPath = [path.resolve(nodeModulesPath, \"semantic-ui-css\", \"semantic.css\"), path.resolve(nodeModulesPath, \"semantic-ui-css\", \"semantic.min.css\"), path.resolve(nodeModulesPath, \"semantic-ui-css\", \"components\", \"step.css\"), path.resolve(nodeModulesPath, \"semantic-ui-css\", \"components\", \"step.min.css\")];\n    filesToPatchPath.forEach(fileToPatchPath => {\n      fs.writeFileSync(fileToPatchPath, replaceDoubleSemiColon(fs.readFileSync(fileToPatchPath, {\n        encoding: \"utf8\"\n      })));\n    });\n    console.log(logSymbols.info, `Patch was successfully applied`);\n  } else {\n    console.log(logSymbols.info, `No supported packages found`);\n  }\n};\n\nmodule.exports = {\n  run\n};"],"names":["chalk","require","fs","logSymbols","path","nodeModulesPath","resolve","process","cwd","hasPackage","packageName","existsSync","replaceDoubleSemiColon","input","replace","run","console","log","info","fileToPatchPath","writeFileSync","readFileSync","encoding","error","bgRed","bold","filesToPatchPath","forEach","module","exports"],"mappings":";;AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEA,MAAMC,EAAE,GAAGD,OAAO,CAAC,IAAD,CAAlB;;AAEA,MAAME,UAAU,GAAGF,OAAO,CAAC,aAAD,CAA1B;;AAEA,MAAMG,IAAI,GAAGH,OAAO,CAAC,MAAD,CAApB;;AAEA,MAAMI,eAAe,GAAGD,IAAI,CAACE,OAAL,CAAaC,OAAO,CAACC,GAAR,EAAb,EAA4B,cAA5B,CAAxB;;AAEA,MAAMC,UAAU,GAAGC,WAAW,IAAI;SACzBR,EAAE,CAACS,UAAH,CAAcP,IAAI,CAACE,OAAL,CAAaD,eAAb,EAA8BK,WAA9B,CAAd,CAAP;CADF;;AAIA,MAAME,sBAAsB,GAAGC,KAAK,IAAIA,KAAK,CAACC,OAAN,CAAc,eAAd,EAA+B,cAA/B,CAAxC;;AAEA,MAAMC,GAAG,GAAG,YAAY;MAClBN,UAAU,CAAC,kBAAD,CAAd,EAAoC;IAClCO,OAAO,CAACC,GAAR,CAAYd,UAAU,CAACe,IAAvB,EAA8B,wCAA9B;UACMC,eAAe,GAAGf,IAAI,CAACE,OAAL,CAAaD,eAAb,EAA8B,kBAA9B,EAAkD,QAAlD,EAA4D,SAA5D,EAAuE,UAAvE,EAAmF,gBAAnF,CAAxB;;QAEIH,EAAE,CAACS,UAAH,CAAcQ,eAAd,CAAJ,EAAoC;MAClCjB,EAAE,CAACkB,aAAH,CAAiBD,eAAjB,EAAkCP,sBAAsB,CAACV,EAAE,CAACmB,YAAH,CAAgBF,eAAhB,EAAiC;QACxFG,QAAQ,EAAE;OAD6C,CAAD,CAAxD;MAGAN,OAAO,CAACC,GAAR,CAAYd,UAAU,CAACe,IAAvB,EAA8B,gCAA9B;KAJF,MAKO;MACLF,OAAO,CAACC,GAAR,CAAYd,UAAU,CAACoB,KAAvB,EAA8BvB,KAAK,CAACwB,KAAN,CAAYC,IAAZ,CAAkB,mBAAkBrB,IAAI,CAACE,OAAL,CAAaC,OAAO,CAACC,GAAR,EAAb,EAA4BW,eAA5B,CAA6C,yDAAjF,CAA9B;;GAVJ,MAYO,IAAIV,UAAU,CAAC,iBAAD,CAAd,EAAmC;UAClCiB,gBAAgB,GAAG,CAACtB,IAAI,CAACE,OAAL,CAAaD,eAAb,EAA8B,iBAA9B,EAAiD,cAAjD,CAAD,EAAmED,IAAI,CAACE,OAAL,CAAaD,eAAb,EAA8B,iBAA9B,EAAiD,kBAAjD,CAAnE,EAAyID,IAAI,CAACE,OAAL,CAAaD,eAAb,EAA8B,iBAA9B,EAAiD,YAAjD,EAA+D,UAA/D,CAAzI,EAAqND,IAAI,CAACE,OAAL,CAAaD,eAAb,EAA8B,iBAA9B,EAAiD,YAAjD,EAA+D,cAA/D,CAArN,CAAzB;IACAqB,gBAAgB,CAACC,OAAjB,CAAyBR,eAAe,IAAI;MAC1CjB,EAAE,CAACkB,aAAH,CAAiBD,eAAjB,EAAkCP,sBAAsB,CAACV,EAAE,CAACmB,YAAH,CAAgBF,eAAhB,EAAiC;QACxFG,QAAQ,EAAE;OAD6C,CAAD,CAAxD;KADF;IAKAN,OAAO,CAACC,GAAR,CAAYd,UAAU,CAACe,IAAvB,EAA8B,gCAA9B;GAPK,MAQA;IACLF,OAAO,CAACC,GAAR,CAAYd,UAAU,CAACe,IAAvB,EAA8B,6BAA9B;;CAtBJ;;AA0BAU,MAAM,CAACC,OAAP,GAAiB;EACfd;CADF"}